(this["webpackJsonpreact-blog-ts"]=this["webpackJsonpreact-blog-ts"]||[]).push([[15],{665:function(e,t,a){"use strict";a.r(t);var n=a(26),r=a(0),l=a.n(r),c=a(7),s=(a(258),a(63)),u=a(442),i=a(71),p=a(119),o=a(446),m=a(447),d=a(83);t.default=Object(c.withRouter)(Object(s.connect)((function(e){return{user:e.user}}),(function(e){return{asyncGetUser:function(){e({type:"user/asyncGetUser"})},delUser:function(){e({type:"user/delUser"})}}}))((function(e){var t=Object(r.useState)(e.user.avatar_url||""),a=Object(n.a)(t,2),c=a[0],s=a[1],g=Object(r.useState)(e.user.gender||""),E=Object(n.a)(g,2),y=E[0],b=E[1],v=Object(r.useState)(e.user.password||""),f=Object(n.a)(v,2),h=f[0],x=f[1],O=Object(r.useState)(e.user.identity||""),j=Object(n.a)(O,2),w=j[0],C=j[1],k=Object(r.useState)(e.user.name||""),S=Object(n.a)(k,2),T=S[0],U=S[1];e.user._id||e.history.push("/login");var _=l.a.createElement("div",null,e.user.avatar_url?l.a.createElement(o.a,null):l.a.createElement(m.a,null),l.a.createElement("div",{style:{backgroundColor:"#fff"}},"\u4e0a\u4f20\u5934\u50cf"));return l.a.createElement("div",{style:{width:"100%",height:"400px",padding:"5vw 10vw"}},l.a.createElement("div",{style:{fontSize:"20px",marginTop:"20px",textAlign:"center"}},"\u4e2a\u4eba\u4fe1\u606f"),l.a.createElement(u.a,{name:"img",method:"POST",action:"http://49.232.250.47:2000/upload",onChange:function(e){e.file.response&&s(e.file.response.url)}},l.a.createElement("span",null,"\u5934\u50cf\uff1a"),c?l.a.createElement("img",{style:{width:"40px",textAlign:"center",marginLeft:"1vw"},src:c,alt:"avatar"}):_),l.a.createElement("div",{style:{marginTop:"20px"}},l.a.createElement("label",null,l.a.createElement("span",null,"\u59d3\u540d\uff1a"),l.a.createElement("input",{type:"text",value:T,onChange:function(e){return U(e.target.value)}}))),l.a.createElement("div",{style:{marginTop:"20px"}},l.a.createElement("label",null,l.a.createElement("span",null,"\u5bc6\u7801\uff1a"),l.a.createElement("input",{type:"password",value:h,onChange:function(e){return x(e.target.value)}}))),l.a.createElement("div",{style:{marginTop:"20px"}},l.a.createElement("label",{style:{margin:"0 20px"}},l.a.createElement("span",{style:{margin:"0 10px"}},"\u7537:"),l.a.createElement("input",{type:"radio",name:"gender",value:y,checked:"\u7537"===y,onChange:function(e){return b("\u7537")}})),l.a.createElement("label",{style:{margin:"0 20px"}},l.a.createElement("span",{style:{margin:"0 10px"}},"\u5973:"),l.a.createElement("input",{type:"radio",name:"gender",value:y,checked:"\u5973"===y,onChange:function(e){b("\u5973")}}))),l.a.createElement("div",{style:{marginTop:"20px"}},l.a.createElement("label",null,l.a.createElement("span",null,"\u8eab\u4efd\uff1a"),l.a.createElement("input",{type:"text",disabled:!0,value:w,onChange:function(e){return C(e.target.value)}}))),l.a.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},l.a.createElement(i.a,{onClick:function(){Object(d.e)({id:e.user._id,name:T,password:h,avatar_url:c,gender:y}).then((function(t){Object(d.b)(T,h).then((function(t){200===t.status&&e.asyncGetUser()})),p.b.success("\u4fee\u6539\u6210\u529f",.3)}))},type:"primary"},"\u63d0\u4ea4\u4fee\u6539"),l.a.createElement(i.a,{onClick:function(){p.b.success("\u6ce8\u9500\u6210\u529f",.5),e.delUser(),e.history.push("/login")},danger:!0,style:{marginLeft:"50px"}},"\u9000\u51fa\u767b\u5f55")),l.a.createElement("div",null))})))}}]);